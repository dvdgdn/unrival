# Technical Implementation Instructions for Unrival Site

## Priority 1: Add Technical Proof Section to LetterDisplay.tsx

### Location
In `src/components/LetterDisplay.tsx`, add the technical proof section immediately after this paragraph:
```jsx
"The Public Promise changed that. It connected a person's inner commitment..."
```

### Code to Add
```jsx
{/* Technical Proof Section */}
<div className="technical-proof-box" style={{
  background: '#F8FAFC', 
  border: '1px solid #E2E8F0', 
  padding: '16px', 
  margin: '24px 0',
  borderRadius: '8px'
}}>
  <h4>How This Actually Works</h4>
  <p>We've built a technical specification that tracks objective metrics like punctuality and follow-through using platform timestamps‚Äîno recordings required, privacy-first by default.</p>
  
  <details>
    <summary style={{cursor: 'pointer', fontWeight: 'bold', marginBottom: '8px'}}>View technical details</summary>
    <pre style={{
      fontSize: '12px', 
      overflow: 'auto', 
      marginTop: '12px',
      background: '#FFFFFF',
      padding: '12px',
      borderRadius: '4px',
      border: '1px solid #D1D5DB'
    }}>
{`// Core Promise Object
{
  "promiseId": "pm_...",
  "promiserId": "coach_...",
  "standardRef": "/coaching/session/_coachPunctualWithinMinutes@0.1.0",
  "params": {"minutes": 5},
  "evidence": {"types": ["zoom.join_leave_ts"]},
  "result": "pass | minor_breach | major_breach"
}`}
    </pre>
  </details>
  
  <div style={{marginTop: '12px'}}>
    <a 
      href="/protocol" 
      style={{
        fontWeight: 'bold',
        color: '#1F6FEB',
        textDecoration: 'none'
      }}
    >
      ‚Üí View complete technical specification
    </a>
  </div>
</div>

{/* Early Results Box */}
<div className="early-metrics" style={{
  background: '#F0F9FF',
  border: '1px solid #0EA5E9',
  padding: '12px',
  margin: '16px 0',
  borderRadius: '6px'
}}>
  <strong>Early Results (Sept 2025):</strong>
  <ul style={{margin: '8px 0', paddingLeft: '20px'}}>
    <li>12 coaches using the protocol</li>
    <li>89% session punctuality rate (vs 67% baseline)</li>
    <li>34% improvement in goal completion</li>
  </ul>
  <small style={{fontStyle: 'italic'}}>Live data updating weekly</small>
</div>

{/* Skepticism FAQ */}
<details style={{marginTop: '16px'}}>
  <summary style={{cursor: 'pointer', fontSize: '14px', fontWeight: 'bold'}}>Common concerns about this approach</summary>
  <div style={{padding: '12px 0', fontSize: '14px', color: '#64748B'}}>
    <p><strong>Q: Isn't this just surveillance?</strong><br/>
    A: Everything is private by default. Public visibility requires explicit opt-in.</p>
    
    <p><strong>Q: What about gaming the system?</strong><br/>
    A: We track patterns across time and use multiple evidence sources. Gaming becomes obvious.</p>
    
    <p><strong>Q: This sounds too good to be true.</strong><br/>
    A: Fair. That's why we're publishing all our data and methods openly.</p>
  </div>
</details>
```

## Priority 2: Create /protocol Route

### Create New Files
1. Create `src/app/protocol/page.tsx`:

```jsx
import { Metadata } from 'next';

export const metadata: Metadata = {
  title: 'Promise Protocol Technical Specification | Unrival',
  description: 'Complete technical specification for the Promise Protocol coaching reliability system.',
};

export default function ProtocolPage() {
  return (
    <div className="container" style={{maxWidth: '800px', margin: '0 auto', padding: '2rem'}}>
      <header>
        <h1>Promise Protocol ‚Äî v0.1.0</h1>
        <p className="metadata">Production Pilot ‚Ä¢ Published: 2025-09-19</p>
        <nav style={{margin: '1rem 0'}}>
          <a href="/">‚Üê Back to Main Site</a>
        </nav>
      </header>

      <section>
        <h2>Purpose & Scope</h2>
        <h3>Why this exists</h3>
        <p>End the "lemons markets" by making promises explicit, evidence declared in advance, and scores auditable, while staying privacy-first and legally sane.</p>
        <p>This pilot starts with coaching markets as a use case with low regulatory overhead and a high propensity for unchecked claims.</p>

        <h3>In scope (v0.1.0)</h3>
        <ul>
          <li><strong>Modality:</strong> Live 1:1 (video/phone/in-person)</li>
          <li><strong>Core standards (MUST):</strong> punctuality, attendance, recap</li>
          <li><strong>Metrics (public Day-0):</strong> cRI (coach Reliability Index) + TR (Transparency Rate)</li>
          <li><strong>Payments:</strong> Card/PayPal auth‚Üícapture (Option A). Deposits allowed.</li>
          <li><strong>Privacy:</strong> Private-by-default; public listing only with explicit consent</li>
          <li><strong>Evidence:</strong> Platform/device timestamps, dual confirmation, structured self-report</li>
        </ul>
      </section>

      <section>
        <h2>Core Objects</h2>
        
        <h3>Promise (public commitment)</h3>
        <pre style={{
          background: '#F8FAFC',
          padding: '1rem',
          borderRadius: '8px',
          border: '1px solid #E2E8F0',
          overflow: 'auto'
        }}>
{`{
  "promiseId": "pm_...",
  "promiserId": "coach_...",
  "promiseeId": "client_...",
  "standardRef": "/coaching/session/_coachPunctualWithinMinutes@0.1.0",
  "params": {"minutes": 5},
  "effectiveAt": "2025-10-01T09:00:00Z",
  "expiresAt": null,
  "privacyMode": "private",
  "consents": ["terms", "privacy", "pub_opt_in?"],
  "signature": "JWS_ed25519_base64",
  "status": "active"
}`}
        </pre>

        <h3>Evidence Event</h3>
        <pre style={{
          background: '#F8FAFC',
          padding: '1rem',
          borderRadius: '8px',
          border: '1px solid #E2E8F0',
          overflow: 'auto'
        }}>
{`{
  "eventId": "ev_...",
  "sessionId": "s_...",
  "type": "zoom.join_leave_ts | platform.message_ts | client.assessment.scale_0_10",
  "payload": { "...": "..." },
  "provenance": { 
    "source": "system|client|third_party", 
    "collectedAt": "2025-10-12T10:01:05Z" 
  },
  "hash": "sha256:...",
  "timezone": "Europe/Berlin"
}`}
        </pre>

        <h3>Assessment (result)</h3>
        <pre style={{
          background: '#F8FAFC',
          padding: '1rem',
          borderRadius: '8px',
          border: '1px solid #E2E8F0',
          overflow: 'auto'
        }}>
{`{
  "assessmentId": "as_...",
  "promiseId": "pm_...",
  "sessionId": "s_...",
  "result": "pass | minor_breach | major_breach | no_show | renegotiated",
  "confidence": "objective_high | objective_med | subjective_med | subjective_low",
  "riAffects": true,
  "scoreDelta": {"cRI": 0.0, "OAS": 0.0},
  "economicEffect": null,
  "explanations": ["recap_ts <= 24h"],
  "assessedAt": "2025-10-12T10:05:00Z",
  "assessorId": "system_or_role",
  "signature": "JWS_ed25519_base64"
}`}
        </pre>
      </section>

      <section>
        <h2>Core Standards (MUST implement)</h2>
        
        <h3>Coach Punctuality</h3>
        <p>Coach arrives within specified minutes of scheduled start time.</p>
        <ul>
          <li><strong>Evidence:</strong> Platform join/leave timestamps</li>
          <li><strong>Confidence:</strong> objective_high</li>
          <li><strong>Grace period:</strong> 90 seconds for reconnection</li>
        </ul>

        <h3>Client Punctuality</h3>
        <p>Client arrives within specified minutes of scheduled start time.</p>
        <ul>
          <li><strong>Evidence:</strong> Platform join/leave timestamps</li>
          <li><strong>Confidence:</strong> objective_high</li>
        </ul>

        <h3>Attendance Threshold</h3>
        <p>Session duration meets minimum threshold (both absolute and percentage of scheduled time).</p>
        <ul>
          <li><strong>Rule:</strong> overlapMinutes ‚â• minMinutes AND overlapMinutes ‚â• 80% of scheduledMinutes</li>
          <li><strong>Evidence:</strong> Platform timestamps</li>
        </ul>

        <h3>Recap Within Hours</h3>
        <p>Coach sends session recap within specified timeframe.</p>
        <ul>
          <li><strong>Evidence:</strong> Email or in-app message timestamps</li>
          <li><strong>Confidence:</strong> objective_med</li>
          <li><strong>Channels:</strong> Domain email or in-app DM only</li>
        </ul>
      </section>

      <section>
        <h2>Metrics & Scoring</h2>
        
        <h3>Coach Reliability Index (cRI) ‚Äî PUBLIC</h3>
        <p>Percent of Core standards kept over last 30 days, with Wilson 95% lower bound and sample size.</p>
        <ul>
          <li><strong>Components:</strong> Punctual (coach), Punctual (client), Attendance, Recap</li>
          <li><strong>Display:</strong> Simple mean of component kept% with Wilson lower bound</li>
          <li><strong>Small-n rule:</strong> Always show value + LB + n. If n < 30, add "Collecting data" badge</li>
        </ul>

        <h3>Transparency Rate (TR) ‚Äî PUBLIC</h3>
        <p>Assessed Core events / eligible Core events over last 90 days.</p>
        <ul>
          <li><strong>Badge:</strong> If TR < 80%, show "Limited coverage"</li>
        </ul>

        <h3>Directory Sorting</h3>
        <p><strong>Primary:</strong> cRI_LB_30d (descending)<br/>
        <strong>Secondary:</strong> TR_90d (descending)</p>
      </section>

      <section>
        <h2>Privacy & Consent</h2>
        <ul>
          <li><strong>Default:</strong> Private. Public listing requires explicit opt-in.</li>
          <li><strong>Public receipts format:</strong> YYYY-MM | standard_id | Kept/Missed/Renegotiated | coach_alias</li>
          <li><strong>GDPR compliance:</strong> Article 9(2)(a) consent for health-adjacent metrics</li>
          <li><strong>Retention:</strong> 12 months operational logs, indefinite public listings until erasure request</li>
        </ul>
      </section>

      <section>
        <h2>Implementation Status</h2>
        <div style={{
          background: '#FEF3C7',
          border: '1px solid #F59E0B',
          padding: '12px',
          borderRadius: '6px',
          margin: '16px 0'
        }}>
          <strong>Status: Pilot Phase</strong><br/>
          Currently testing with 12 coaches. Full platform launch Q4 2025.
        </div>
        
        <p>Questions or feedback? <a href="mailto:protocol@unrival.com">protocol@unrival.com</a></p>
      </section>
    </div>
  );
}
```

## Priority 3: Add Urgency to InquiryCTA.tsx

### Modify the return statement in InquiryCTA.tsx:
Add this after the existing buttons div:

```jsx
<p style={{
  fontSize: '14px', 
  fontStyle: 'italic', 
  marginTop: '12px',
  textAlign: 'center',
  color: '#6B7280'
}}>
  Q3 2025 cohort forming now ‚Ä¢ First 50 participants get early access to coaching protocol
</p>
```

## Priority 4: Add Visual Trust Diagram

### Create new component `src/components/TrustBeforeAfter.tsx`:

```jsx
import React from 'react';

const TrustBeforeAfter = () => {
  return (
    <div style={{
      display: 'flex',
      gap: '2rem',
      margin: '2rem 0',
      alignItems: 'center',
      justifyContent: 'center'
    }}>
      {/* BEFORE */}
      <div style={{
        textAlign: 'center',
        padding: '1.5rem',
        border: '2px solid #EF4444',
        borderRadius: '8px',
        background: '#FEF2F2',
        minWidth: '200px'
      }}>
        <h4 style={{margin: '0 0 0.5rem', color: '#DC2626'}}>BEFORE</h4>
        <div style={{fontSize: '2rem', margin: '0.5rem 0'}}>ü§∑</div>
        <p style={{margin: '0', fontSize: '14px'}}>Trust = ?</p>
        <p style={{margin: '0.5rem 0 0', fontSize: '12px', color: '#6B7280'}}>
          No verifiable signals
        </p>
      </div>

      {/* Arrow */}
      <div style={{fontSize: '2rem', color: '#6B7280'}}>‚Üí</div>

      {/* AFTER */}
      <div style={{
        textAlign: 'center',
        padding: '1.5rem',
        border: '2px solid #10B981',
        borderRadius: '8px',
        background: '#F0FDF4',
        minWidth: '200px'
      }}>
        <h4 style={{margin: '0 0 0.5rem', color: '#047857'}}>AFTER</h4>
        <div style={{fontSize: '2rem', margin: '0.5rem 0'}}>‚úÖ</div>
        <p style={{margin: '0', fontSize: '14px', fontWeight: 'bold'}}>
          cRI: 94% | TR: 89%
        </p>
        <p style={{margin: '0.5rem 0 0', fontSize: '12px', color: '#6B7280'}}>
          Verified timestamps<br/>
          Objective evidence
        </p>
      </div>
    </div>
  );
};

export default TrustBeforeAfter;
```

### Add import and usage in LetterDisplay.tsx:
Add import at top:
```jsx
import TrustBeforeAfter from './TrustBeforeAfter';
```

Add component after the technical proof box:
```jsx
<TrustBeforeAfter />
```

## Priority 5: Update Navigation

### Modify FloatingNav.tsx:
Add this link after the "View Prompts" link:
```jsx
<Link href="/protocol" className="external-link">
  Technical Spec
</Link>
```

## Priority 6: Replace Google Forms with Branded Links

### Create a simple redirect system or update all Google Form URLs to:
- Letters form: `https://unrival.link/letter` (redirect to existing Google Form)  
- Promises form: `https://unrival.link/promise` (redirect to existing Google Form)

Or implement this as URL shortener service pointing to your existing Google Forms.

## Priority 7: Add Missing CSS Styles

### Add to `src/app/globals.css`:

```css
.technical-proof-box {
  font-family: var(--font-lato), sans-serif;
}

.technical-proof-box h4 {
  font-family: var(--font-playfair-display), serif;
  margin-top: 0;
  color: #1F2937;
}

.technical-proof-box details summary {
  transition: color 0.2s ease;
}

.technical-proof-box details summary:hover {
  color: #1F6FEB;
}

.protocol-page {
  font-family: var(--font-lora), serif;
  line-height: 1.6;
}

.protocol-page h1, .protocol-page h2, .protocol-page h3 {
  font-family: var(--font-playfair-display), serif;
}

.protocol-page pre {
  font-family: 'Monaco', 'Menlo', monospace;
  line-height: 1.4;
}
```

## Testing Checklist

After implementation:
1. Verify `/protocol` route loads correctly
2. Check that technical proof box appears in letter section
3. Confirm all links work (especially to /protocol)
4. Test mobile responsiveness of new components
5. Verify no console errors
6. Check that urgency text appears in hero CTA

## Performance Notes
- All new components use inline styles to avoid CSS bundle bloat
- Technical spec content is static (no API calls needed)
- Images should be optimized if any are added later

This implementation prioritizes credibility through technical transparency while maintaining the site's existing aesthetic and functionality.
